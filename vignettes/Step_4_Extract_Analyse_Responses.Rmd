---
title: "Step 4: Analysing BIO-WELL scores"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Step 4: Analysing BIO-WELL scores}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# <span style="color:#0097AD;">Introduction</span>

After your BIO-WELL survey URL has been shared to participants and their
responses have been remotely stored to your Dropbox App's folder, it is time to
move to the analysis stage.

In this vignette, we will be using the `BIOWELL` package functions
`download_data()`, `evaluate_survey()` and `explore_data()` to download the
survey response data, evaluate your survey and explore patterns in BIO-WELL
scores.


# <span style="color:#0097AD;">Step 1: Download survey response data</span>

Participant responses have been saved as individual `csv` files within your
designated Dropbox App's folder.

The `BIOWELL` package function `download_data()` collates all survey responses
and returns a single data frame for analysis.

```{r, eval = FALSE}
path_to_folder <- tempdir() # Replace with path to a local folder. 
appName <- "my_app_name" # Replace with name for your app. 
dir.create(paste0(path_to_folder,"/",appName)) 


survey_data <- download_data(Dropbox_App_folder = "survey_responses",
                             BW_app_path = paste0(path_to_folder,"/",appName))

```

# <span style="color:#0097AD;">Step 2: Evaluate survey </span>

When analysing survey response data, it is important to evaluate the reliability
of your survey.  

The function `evaluate_survey()` offers multiple methods to evaluate the
reliability of surveys.

1) **<span style="color:#004A86;">Cronbach's alpha</span>**

Cronbach's alpha can be used to assess the reliability of your survey by testing
the internal consistency of BIO-WELL scores for each question by each
participant.

The statistical calculation involves comparing the covariance among the BIO-WELL
scores from each question making up the survey to the overall variance
(Cronbach, 1951).

If your survey is reliable, their should be higher covariance among the
questions relative to the overall variance. A threshold Cronbach's alpha of >
0.7 typically indicates acceptable reliability (Nunnally, 1978)


2) **<span style="color:#004A86;">Item-total correlation</span>**

The item-total correlation can also be used to test the reliability of your
survey. This statistic measures the correlation between the score for each
question and a score that excludes that question (uses all the other question,
but not that one).

Typically, participant's BIO-WELL scores for each BIO-WELL question should
correlate to their overall BIO-WELL scores. Item-total correlation measures this
relationship across all survey participants.

Questions with negative item-total correlations probably arenâ€™t good items. A
threshold of >0.3 is typically interpreted as a good question (Boateng et al.,
2018).


```{r}
library(BIOWELL)
data("sample_BW_data")
results <- evaluate_survey(sample_BW_data)
results[[2]]
results[[3]]
```

# <span style="color:#0097AD;">Step 3: Explore survey responses</span>

To facilitate preliminary analyses of survey response data, the `BIOWELL`
package includes the function `explore_data`.

The arguments of the function are:

+ `data` - the imported participant survey response data frame (from Step 1!).

+ `var_name` - a character string, text for the y-axis of the returned box plot.

+ `plot`  - a logical, whether you want the box plots to be displayed in the R
plot window.

+ `column_name` - an optional argument, the name of a column within data to
split BIO-WELL scores by in the returned box plot.

+ `biowell_scale` - an optional feature, the name of the wellbeing domain of
interest. If specified, plotted BIO-WELL scores only incorporate the slider
input for this domain. One of; `physical`, `emotional`, `cognitive`, `social`
and `spiritual`.


1) **<span style="color:#004A86;">Default</span>**

If you only provide `explore_data()` with the participant survey response data
frame, by default, the function will collate the BIO-WELL scores for each
participant by situation x question. The function returns this processed data
frame and generates a box plot for each situation to display the BIO-WELL scores
for each question within the situation.

```{r fig.width=7, fig.height=10}
results <- explore_data(data = sample_BW_data,
                        plot = FALSE)
results[[1]][1]
```

Using the argument `biowell_scale`, you could alter the default to plot the
BIO-WELL score calculated from only one well-being domain.


```{r fig.width=7, fig.height=10}
results <- explore_data(data = sample_BW_data,
                        biowell_scale = "emotional",
                        plot = FALSE)
results[[1]][1]
```

2) **<span style="color:#004A86;">Column</span>**

The survey response data frame contains multiple columns including for responses
to any start or end questions.

Using the `column_name` argument in `explore_data()` you can specify a column
that contains categorical data to split participant BIO-WELL scores by instead
of by situation x question (the default).

For example, this would input would generate a box plot comparing BIO-WELL
scores between each age category of participants.

```{r fig.width=7}
results <- explore_data(data = sample_BW_data,
                        column_name = "Age",
                        var_name = "Participants age range",
                        plot = TRUE)
results <- explore_data(data = sample_BW_data,
                        column_name = "Urbanicity",
                        var_name = "Whether participants live in Urban or Rural areas",
                        plot = TRUE)
```


Using the argument `biowell_scale`, you could further alter the `column_name`
plot to plot the BIO-WELL score calculated from only one well-being domain.


```{r fig.width=7}
results <- explore_data(data = sample_BW_data,
                        column_name = "Age",
                        var_name = "Participants age range",
                        biowell_scale = "cognitive",
                        plot = TRUE)
```

# <span style="color:#0097AD;">Further analyses</span>

We hope the functions covered in this Vignette facilitate preliminary analysis
of BIO-WELL scores from your `BIOWELL` package surveys.

This concludes our vignettes for the `BIOWELL` package. Please visit the
package's [GitHub page](https://github.com/r-a-dobson/BIOWELL) to report any
bugs or to ask questions on how to use the package.


